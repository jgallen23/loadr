/*!
  * loadr.js - a ui module loader 
  * v0.0.1
  * https://github.com/jgallen23/loadr
  * copyright JGA 2011
  * MIT License
  */
!function(a,b){typeof module!="undefined"&&module.exports?module.exports=b():typeof define=="function"&&typeof define.amd=="object"?define(b):this[a]=b()}("loadr",function(){!function(a){var b=function(a,b){if(a.length===0)return b();var c=0,d=[],e=function(){a[c](function(f){d[c]=f,++c==a.length?b&&b(d):e()})};e()},c=function(a,b){if(a.length===0)return b();var c=0,d=0,e=[],f=function(){a[c](function(c){return function(f){e[c]=f;if(++d==a.length){b&&b(e);return}}}(c)),++c!=a.length&&f()};f()},d=function(a,d){var e=[];return{push:function(b){e.push(function(c){a(b,c)})},run:function(a){d?c(e,a):b(e,a)}}},e=a.R;a.R={noConflict:function(){return a.R=e,this},series:b,parallel:c,queue:d}}(typeof exports=="undefined"?this:exports);var a=document.getElementsByTagName("head")[0],b={},c=function(a,d){setTimeout(function(){b[a]==2&&(d?d():c(a,d))},20)},d=function(d,e){if(b[d]){c(d,e);return}b[d]=1;var f=document.createElement("script");f.onload=f.onerror=f.onreadystatechange=function(){if(f.readyState&&!/^c|loade/.test(f.readyState))return;f.onload=f.onreadystatechange=null,b[d]=2,e&&e()},f.async=1,f.src=d,a.insertBefore(f,a.firstChild)},e=function(a,b){typeof a=="string"&&(a=[a]);var c=R.queue(function(a,b){d(a,b)});for(var e=0,f=a.length;e<f;e++)c.push(a[e]);c.run(function(){b()})},f=function(b,c){var d=document.createElement("link");d.type="text/css",d.rel="stylesheet",d.href=b,a.appendChild(d),c()},g=function(a,b){typeof a=="string"&&(a=[a]);var c=R.queue(function(a,b){f(a,b)});for(var d=0,e=a.length;d<e;d++)c.push(a[d]);c.run(function(){b()})},h=function(a,b){var c=R.queue(function(a,b){$.get(a,b)});for(var d=0,e=a.length;d<e;d++)c.push(a[d]);c.run(function(a){b(a)})},i=function(a,b){typeof a=="string"&&(a={js:[a]});var c=[];a.js&&c.push(function(b){e(a.js,b)}),a.css&&c.push(function(b){g(a.css,b)}),a.html&&c.push(function(b){h(a.html,b)}),R.parallel(c,function(c){b&&b(a.html?c[2]:null)})};return i})